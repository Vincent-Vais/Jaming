(this.webpackJsonpjamming=this.webpackJsonpjamming||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(23)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n,r,s=a(0),c=a.n(s),i=a(9),o=a.n(i),l=(a(15),a(2)),u=a(3),h=a(1),m=a(5),p=a(4),d=(a(16),a(17),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n.search=n.search.bind(Object(h.a)(n)),n.handleTermChange=n.handleTermChange.bind(Object(h.a)(n)),n}return Object(u.a)(a,[{key:"search",value:function(){this.props.onSearch(this.state.term)}},{key:"handleTermChange",value:function(e){this.setState({term:e.target.value})}},{key:"render",value:function(){return c.a.createElement("div",{className:"SearchBar"},c.a.createElement("input",{onChange:this.handleTermChange,placeholder:"Enter A Song, Album, or Artist"}),c.a.createElement("button",{onClick:this.search,className:"SearchButton"},"SEARCH"))}}]),a}(c.a.Component)),v=(a(18),a(19),a(20),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).addTrack=n.addTrack.bind(Object(h.a)(n)),n.removeTrack=n.removeTrack.bind(Object(h.a)(n)),n}return Object(u.a)(a,[{key:"addTrack",value:function(){this.props.onAdd(this.props.track)}},{key:"removeTrack",value:function(){this.props.onRemove(this.props.track)}},{key:"renderAction",value:function(){return this.props.isRemoval?c.a.createElement("button",{onClick:this.removeTrack,className:"Track-action"},"-"):c.a.createElement("button",{onClick:this.addTrack,className:"Track-action"},"+")}},{key:"render",value:function(){return c.a.createElement("div",{className:"Track"},c.a.createElement("div",{className:"Track-information"},c.a.createElement("h3",null,this.props.track.name),c.a.createElement("p",null,this.props.track.artist," | ",this.props.track.album)),this.renderAction())}}]),a}(c.a.Component)),f=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"TrackList"},this.props.tracks.map((function(t){return c.a.createElement(v,{isRemoval:e.props.isRemoval,onRemove:e.props.onRemove,onAdd:e.props.onAdd,key:t.id,track:t})})))}}]),a}(c.a.Component),k=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"SearchResults"},c.a.createElement("h2",null,"Results"),c.a.createElement(f,{isRemoval:!1,onAdd:this.props.onAdd,tracks:this.props.searchResults}))}}]),a}(c.a.Component),y=(a(21),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleNameChange=n.handleNameChange.bind(Object(h.a)(n)),n}return Object(u.a)(a,[{key:"handleNameChange",value:function(e){this.props.onNameChange(e.target)}},{key:"render",value:function(){return c.a.createElement("div",{className:"Playlist"},c.a.createElement("input",{onChange:this.handleNameChange,defaultValue:"New Playlist"}),c.a.createElement(f,{onRemove:this.props.onRemove,isRemoval:!0,tracks:this.props.playlistTracks}),c.a.createElement("button",{onClick:this.props.onSave,className:"Playlist-save"},"SAVE TO SPOTIFY"))}}]),a}(c.a.Component)),b=a(6),T=a.n(b),j=a(7),O={getAccessToken:function(){if(n)return n;var e=window.location.href,t=e.match(/access_token=([^&]*)/),a=e.match(/expires_in=([^&]*)/);return t&&a?(n=t[1],r=parseInt(a[1]),window.setTimeout((function(){return n=""}),1e3*r),window.history.pushState("Access Token",null,"/")):window.location="https://accounts.spotify.com/authorize?client_id=".concat("98d4b11c335142c484f1c0337d67ec83","&response_type=token&scope=playlist-modify-public&redirect_uri=").concat("http://localhost:3000/"),n},search:function(){var e=Object(j.a)(T.a.mark((function e(t){var a,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.spotify.com/v1/search?type=track&q=".concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r.tracks.items.map((function(e){return{id:e.id,name:e.name,artist:e.artists[0].name,album:e.album.name,uri:e.uri}})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),savePlaylist:function(){var e=Object(j.a)(T.a.mark((function e(t,a){var r,s,c,i,o,l,u,h;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&a){e.next=2;break}return e.abrupt("return");case 2:return r=O.getAccessToken(),s={Authorization:"Bearer ".concat(r)},e.next=6,fetch("https://api.spotify.com/v1/me",{headers:s});case 6:return o=e.sent,e.next=9,o.json();case 9:return l=e.sent,c=l.id,e.next=13,fetch("https://api.spotify.com/v1/users/".concat(c,"/playlists"),{method:"POST",headers:s,body:JSON.stringify({name:t})});case 13:return u=e.sent,e.next=16,u.json();case 16:return h=e.sent,i=h.id,console.log(a),e.next=21,fetch("https://api.spotify.com/v1/playlists/".concat(i,"/tracks"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({uris:a})});case 21:e.sent;case 22:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},g=O,E=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={searchResults:[],playlistName:"First Playlist",playlistTracks:[]},n.addTrack=n.addTrack.bind(Object(h.a)(n)),n.removeTrack=n.removeTrack.bind(Object(h.a)(n)),n.updatePlaylistName=n.updatePlaylistName.bind(Object(h.a)(n)),n.savePlaylist=n.savePlaylist.bind(Object(h.a)(n)),n.search=n.search.bind(Object(h.a)(n)),n}return Object(u.a)(a,[{key:"addTrack",value:function(e){-1===this.state.playlistTracks.findIndex((function(t){return t.id===e.id}))&&(this.state.playlistTracks.push(e),this.setState({playlistTracks:this.state.playlistTracks}))}},{key:"removeTrack",value:function(e){var t=this.state.playlistTracks.filter((function(t){return t.id!==e.id}));this.setState({playlistTracks:t})}},{key:"updatePlaylistName",value:function(e){this.setState({name:e})}},{key:"savePlaylist",value:function(){var e=this.state.playlistTracks.map((function(e){return e.uri}));g.savePlaylist(this.state.playlistName,e).then(this.setState({playlistName:"New Playlist",playlistTracks:[]})).catch((function(e){return console.log(e)}))}},{key:"search",value:function(e){var t=this;g.search(e).then((function(e){return t.setState({searchResults:Array.from(e)})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return g.getAccessToken(),c.a.createElement("div",null,c.a.createElement("h1",null,"Ja",c.a.createElement("span",{className:"highlight"},"mmm"),"ing"),c.a.createElement("div",{className:"App"},c.a.createElement(d,{onSearch:this.search}),c.a.createElement("div",{className:"App-playlist"},c.a.createElement(k,{onAdd:this.addTrack,searchResults:this.state.searchResults}),c.a.createElement(y,{onSave:this.savePlaylist,onNameChange:this.updatePlaylistName,onRemove:this.removeTrack,playlistName:this.state.playlistName,playlistTracks:this.state.playlistTracks}))))}}]),a}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.912bc687.chunk.js.map